{% extends "layout.html" %}

{% block title %}
    Inventory
{% endblock %}

{% block main %}

    <div class="additem">
        <button type="button" id="open-inv-select"><h3 id="page-title">Inventory</h3><span id="arrowdown"></span></button>
        <ul id="invcatselect" style="display: none;">
            <li class="invcat"><a href="/off-site">Off-site</a></li>
            <li class="invcat"><a href="/replace">Replace</a></li>
            <li class="invcat"><a href="/missing">Missing</a></li>
            <li class="invcat"><a href="/archive">Archive</a></li>
        </ul>
        <div id="insert-action-menu">
        </div>
    </div>

    {% if inventory %}
        <div id="inventory-tools-wrapper">
            <input autocomplete="off" autofocus="" class="form-control" id="search" name="s" placeholder="Search Inventory" type="search">
            <div id="tools-wrapper">
                <button type="button" class="inventory-tools" id="download-all-qr">
                    <div class="tools-tooltip" id="download-tooltip">Download QR Codes</div>
                    <div class="tooltip-arrow" id="download-tooltip-arrow"></div>
                    <svg height="100%" stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 1088.54 1080" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:vectornator="http://vectornator.io" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <defs/>
                        <clipPath id="ArtboardFrame1">
                        <rect height="1080" width="1088.54" x="0" y="0"/>
                        </clipPath>
                        <g clip-path="url(#ArtboardFrame)" id="Layer-1" vectornator:layerName="Layer 1">
                        <path d="M540.705 0.000318211C507.001-0.0985322 479.926 22.8457 480.21 51.2732L484.298 458.668L471.02 458.731L461.799 458.795L421.807 459.016C403.367 459.113 386.584 463.491 373.767 470.583C372.876 470.977 371.938 471.333 371.073 471.787L370.724 471.977C364.197 475.408 359.165 480.274 355.545 486.015C351.3 491.852 348.836 498.239 348.891 505.061L348.891 505.473C348.896 506.1 349.035 506.721 349.081 507.342C348.471 519.998 352.532 533.947 361.693 546.827L482.777 717.029C490.872 728.408 501.693 737.153 513.325 742.697C514.281 743.251 515.221 743.819 516.241 744.313L516.589 744.503C524.069 748.131 532.499 749.636 541.18 749.447C542.096 749.458 543.061 749.544 543.968 749.51C548.48 749.342 552.834 748.541 557.024 747.228C574.137 742.775 590.781 731.982 602.118 716.395L726.846 544.894C736.272 531.934 740.354 517.949 739.522 505.314C739.559 504.675 739.654 504.026 739.648 503.381L739.648 503.064C739.586 495.176 736.303 487.772 730.617 481.325C730.046 480.678 729.399 480.02 728.779 479.392C728.748 479.358 728.716 479.363 728.684 479.329C728.101 478.741 727.535 478.093 726.909 477.523C726.585 477.227 726.231 476.99 725.895 476.699C725.865 476.672 725.8 476.662 725.769 476.635C725.102 476.048 724.454 475.506 723.741 474.956C723.384 474.677 723.062 474.343 722.695 474.069C722.282 473.76 721.821 473.514 721.396 473.213C721.124 473.032 720.818 472.819 720.54 472.643C713.802 468.027 705.599 464.264 696.361 461.678C687.123 459.092 676.908 457.692 666.098 457.749L621.892 457.971L607.505 458.034L603.417 51.6218C603.133 23.1943 575.58 0.0991918 541.877 0.000318211L540.705 0.000318211Z" fill="#000002" fill-rule="nonzero" opacity="0.962441" stroke="none" vectornator:layerName="Curve 14"/>
                        <path d="M59.4375 791.656C26.6077 791.656 0 818.841 0 852.375L0 1019.28C-2.54313e-06 1052.81 26.6077 1080 59.4375 1080L1029.09 1080C1061.92 1080 1088.53 1052.81 1088.53 1019.28L1088.53 852.375C1088.53 818.841 1061.92 791.656 1029.09 791.656L59.4375 791.656ZM929.438 888.094C955.808 888.094 977.188 909.473 977.188 935.844C977.188 962.215 955.808 983.563 929.438 983.562C903.067 983.562 881.688 962.215 881.688 935.844C881.688 909.473 903.067 888.094 929.438 888.094Z" fill="#000002" fill-rule="nonzero" opacity="0.962441" stroke="none" vectornator:layerName="Curve 15"/>
                        </g>
                    </svg>
                    <span>Download QR Codes</span>
                </button>
                <button type="button" class="inventory-tools" id="show-filter">
                    <div class="tools-tooltip" id="show-tooltip">Show Filter</div>
                    <div class="tooltip-arrow" id="show-tooltip-arrow"></div>
                    <svg height="100%" stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 1088.54 1080" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:vectornator="http://vectornator.io" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <defs/>
                        <clipPath id="ArtboardFrame2">
                        <rect height="1080" width="1088.54" x="0" y="0"/>
                        </clipPath>
                        <g clip-path="url(#ArtboardFrame)" id="Layer-2" vectornator:layerName="Layer 1">
                        <path d="M36.4062 0C-2.53207 5.08626e-06-11.673 24.8187 15.9688 55.4375L467.562 555.656L467.562 1080L621 968.719L621 555.625L1072.56 55.4375C1100.2 24.8187 1091.06 1.84934e-07 1052.12 0L36.4062 0Z" fill="#000002" fill-rule="nonzero" opacity="0.962441" stroke="none" vectornator:layerName="Curve 1"/>
                        </g>
                    </svg>
                    <span>Filter</span>
                </button>
                <button type="button" class="inventory-tools" id="hide-filter">
                    <div class="tools-tooltip" id="hide-tooltip">Hide Filter</div>
                    <div class="tooltip-arrow" id="hide-tooltip-arrow"></div>
                    <svg height="100%" stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 1088.54 1080" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:vectornator="http://vectornator.io" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <defs/>
                        <clipPath id="ArtboardFrame3">
                        <rect height="1080" width="1088.54" x="0" y="0"/>
                        </clipPath>
                        <g clip-path="url(#ArtboardFrame)" id="Layer-3" vectornator:layerName="Layer 1">
                        <g opacity="1" vectornator:layerName="Group 1">
                        <path d="M854.418 407.57C870.432 387.019 896.397 387.019 912.411 407.57L913.203 408.586C929.217 429.137 929.217 462.458 913.203 483.009L460.013 1064.59C443.999 1085.14 418.034 1085.14 402.019 1064.59L401.228 1063.57C385.214 1043.02 385.214 1009.7 401.228 989.148L854.418 407.57Z" fill="#000002" fill-rule="nonzero" opacity="1" stroke="none" vectornator:layerName="Rectangle 1"/>
                        <path d="M460.013 407.57C443.999 387.019 418.034 387.019 402.019 407.57L401.228 408.586C385.214 429.137 385.214 462.458 401.228 483.009L854.418 1064.59C870.432 1085.14 896.397 1085.14 912.411 1064.59L913.203 1063.57C929.217 1043.02 929.217 1009.7 913.203 989.148L460.013 407.57Z" fill="#000002" fill-rule="nonzero" opacity="1" stroke="none" vectornator:layerName="Rectangle 2"/>
                        <path d="M657.223 491.093C618.163 491.093 580.374 497.749 544.392 508.764L571.733 543.914C599.138 536.261 627.761 531.646 657.223 531.646C686.671 531.646 715.269 536.268 742.664 543.914L770.054 508.764C734.074 497.75 696.281 491.093 657.223 491.093Z" fill="#000002" fill-rule="nonzero" opacity="1" stroke="none" vectornator:layerName="Curve 6"/>
                        <path d="M447.905 550.016C410.505 570.496 377.023 594.158 347.506 617.711L347.506 682.163C378.606 652.132 422.56 614.922 475.147 584.976L447.905 550.016Z" fill="#000002" fill-rule="nonzero" opacity="1" stroke="none" vectornator:layerName="Curve 7"/>
                        <path d="M866.541 550.016L839.249 584.976C945.615 645.542 1017.07 736.065 1017.07 736.065C1017.07 736.065 945.614 826.588 839.249 887.154L866.541 922.177C998.929 849.684 1088.54 736.065 1088.54 736.065C1088.54 736.065 998.929 622.51 866.541 550.016Z" fill="#000002" fill-rule="nonzero" opacity="1" stroke="none" vectornator:layerName="Curve 8"/>
                        <path d="M347.506 789.966L347.506 854.419C377.023 877.972 410.505 901.698 447.905 922.177L475.147 887.154C422.56 857.208 378.606 819.998 347.506 789.966Z" fill="#000002" fill-rule="nonzero" opacity="1" stroke="none" vectornator:layerName="Curve 9"/>
                        <path d="M571.782 928.216L544.392 963.43C580.372 974.443 618.165 981.1 657.223 981.1C696.283 981.1 734.072 974.381 770.054 963.366L742.664 928.216C715.262 935.866 686.679 940.484 657.223 940.483C627.769 940.483 599.181 935.865 571.782 928.216Z" fill="#000002" fill-rule="nonzero" opacity="1" stroke="none" vectornator:layerName="Curve 10"/>
                        <path d="M347.506 617.711C272.538 677.529 225.908 736.065 225.908 736.065C225.908 736.065 272.538 794.601 347.506 854.419L347.506 789.966C315.706 759.258 297.381 736.065 297.381 736.065C297.381 736.065 315.706 712.872 347.506 682.163L347.506 617.711Z" fill="#000002" fill-rule="nonzero" opacity="1" stroke="none" vectornator:layerName="Curve 11"/>
                        <path d="M657.215 530.042C629.421 530.042 603.267 539.113 580.469 555.063L657.215 653.552L733.962 555.063C711.164 539.113 685.01 530.042 657.215 530.042ZM516.16 637.589C503.732 666.847 496.663 700.41 496.663 736.078C496.663 771.747 503.732 805.31 516.16 834.567L592.907 736.078L516.16 637.589ZM798.27 637.589L721.524 736.078L798.27 834.567C810.699 805.31 817.767 771.747 817.767 736.078C817.767 700.41 810.699 666.846 798.27 637.589ZM657.215 818.605L580.469 917.094C603.267 933.043 629.421 942.114 657.215 942.114C685.01 942.114 711.164 933.044 733.962 917.094L657.215 818.605Z" fill="#000002" fill-rule="nonzero" opacity="1" stroke="none" vectornator:layerName="Curve 3"/>
                        </g>
                        <path d="M-14.6209-49.9538C-39.4853-49.9538-45.3223-34.1056-27.6715-14.5538L260.697 304.865L260.697 639.688L358.676 568.629L358.676 304.845L647.024-14.5538C664.675-34.1057 658.838-49.9538 633.974-49.9538L-14.6209-49.9538Z" fill="#000002" fill-rule="nonzero" opacity="0.962441" stroke="none" vectornator:layerName="Curve 4"/>
                        </g>
                    </svg>
                    <span>Hide Filter</span>
                </button>
                <button type="button" class="inventory-tools" id="clear-filter">
                    <div class="tools-tooltip" id="clear-tooltip">Clear Filter</div>
                    <div class="tooltip-arrow" id="clear-tooltip-arrow"></div>
                    <svg height="100%" stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 1088.54 1080" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:vectornator="http://vectornator.io" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <defs/>
                        <g id="Layer-4" vectornator:layerName="Layer 1">
                        <g opacity="1" vectornator:layerName="Group 1">
                        <path d="M1073.41 431.766C1097.61 455.472 1092.2 499.21 1061.31 529.459L526.429 1053.33C495.544 1083.58 450.886 1088.89 426.683 1065.18L425.832 1064.35C401.628 1040.64 407.045 996.905 437.929 966.656L972.812 442.782C1003.7 412.532 1048.35 407.228 1072.56 430.933L1073.41 431.766Z" fill="#000002" fill-rule="nonzero" opacity="0.962441" stroke="none" vectornator:layerName="Rectangle 2"/>
                        <path d="M426.683 430.933C450.886 407.228 495.544 412.532 526.429 442.782L1061.31 966.656C1092.2 996.905 1097.61 1040.64 1073.41 1064.35L1072.56 1065.18C1048.35 1088.89 1003.7 1083.58 972.812 1053.33L437.929 529.459C407.045 499.21 401.628 455.472 425.832 431.766L426.683 430.933Z" fill="#000002" fill-rule="nonzero" opacity="1" stroke="none" vectornator:layerName="Rectangle 1"/>
                        </g>
                        <path d="M23.2491 0C-1.61526 3.24787e-06-7.45227 15.8482 10.1986 35.4L298.567 354.819L298.567 689.642L396.546 618.583L396.546 354.799L684.895 35.4C702.545 15.8482 696.708 1.18091e-07 671.844 0L23.2491 0Z" fill="#000002" fill-rule="nonzero" opacity="0.962441" stroke="none" vectornator:layerName="Curve 3"/>
                        </g>
                    </svg>
                    <span>Clear Filter</span>
                </button>
                <button type="button" class="inventory-tools" id="refresh-page">
                    <div class="tools-tooltip" id="refresh-tooltip">Refresh Page</div>
                    <div class="tooltip-arrow" id="refresh-tooltip-arrow"></div>
                    <svg height="100%" stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 1088.54 1080" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:vectornator="http://vectornator.io" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <defs/>
                        <clipPath id="ArtboardFrame5">
                        <rect height="1080" width="1088.54" x="0" y="0"/>
                        </clipPath>
                        <g clip-path="url(#ArtboardFrame)" id="Layer-5" vectornator:layerName="Layer 1">
                        <path d="M549.288 2.54729C449.894 3.37715 348.324 32.3939 260.6 88.141C161.678 151.004 84.2034 244.886 36.8188 366.454C25.8967 394.475 39.7351 426.063 67.7563 436.985C95.7776 447.907 127.365 434.037 138.288 406.016C177.232 306.104 239.588 230.517 319.006 180.047C389.231 135.42 470.88 112.116 550.225 111.454C613.249 110.927 669.497 121.807 719.881 142.672C763.68 160.811 802.558 186.307 837.069 218.016C853.762 233.354 868.994 249.994 883.194 267.516L856.1 276.922C843.62 281.259 833.477 288.761 826.788 297.61C826.295 298.143 825.777 298.658 825.319 299.235L825.131 299.454C821.674 303.81 819.62 309.036 818.788 314.641C817.557 320.469 817.729 326.362 819.694 332.016L819.788 332.329C819.968 332.849 820.238 333.323 820.444 333.829C823.607 344.482 830.308 355.151 840.163 363.735L970.413 477.172C979.119 484.756 988.925 489.502 998.381 491.422C999.186 491.662 999.988 491.934 1000.82 492.11L1001.1 492.172C1007.2 493.459 1013.36 492.771 1019.19 490.61C1019.82 490.408 1020.46 490.254 1021.07 490.016C1024.08 488.836 1026.82 487.167 1029.29 485.11C1039.64 477.461 1047.88 464.674 1051.16 449.11L1087.32 277.86C1090.05 264.92 1088.83 252.35 1084.69 242.047C1084.54 241.508 1084.44 240.957 1084.26 240.422L1084.16 240.141C1081.89 233.603 1077.56 228.215 1071.88 224.172C1071.31 223.766 1070.7 223.394 1070.1 223.016C1070.07 222.995 1070.04 222.974 1070.01 222.954C1069.44 222.6 1068.9 222.22 1068.32 221.891C1068.02 221.72 1067.69 221.586 1067.38 221.422C1067.35 221.407 1067.32 221.406 1067.29 221.391C1066.67 221.057 1066.05 220.746 1065.41 220.454C1065.09 220.304 1064.77 220.128 1064.44 219.985C1064.08 219.824 1063.69 219.699 1063.32 219.547C1063.08 219.46 1062.84 219.379 1062.6 219.297C1056.73 217.019 1050.1 215.782 1043.1 215.766C1036.1 215.75 1028.76 216.943 1021.44 219.485L991.475 229.891C967.955 196.777 941.281 165.843 910.756 137.797C867.16 97.7416 817.598 65.2506 761.569 42.0473C697.657 15.5799 626.882 1.89946 549.288 2.54729Z" fill="#000002" fill-rule="nonzero" opacity="0.962441" stroke="none" vectornator:layerName="Curve 8"/>
                        <path d="M83.4126 589.11C78.8338 588.855 74.2906 589.651 69.9126 591.266C69.2881 591.467 68.6442 591.592 68.0376 591.829C65.0231 593.005 62.2925 594.681 59.8188 596.735C49.4592 604.369 41.1872 617.144 37.8813 632.704L1.47508 803.891C-1.27329 816.827-0.0525638 829.426 4.06883 839.735C4.2233 840.274 4.32098 840.825 4.50633 841.36L4.60008 841.641C6.86288 848.182 11.1766 853.559 16.8501 857.61C17.4198 858.017 18.0342 858.387 18.6313 858.766C18.6623 858.787 18.6939 858.808 18.7251 858.829C19.2866 859.183 19.8279 859.561 20.4126 859.891C20.7156 860.062 21.0408 860.195 21.3501 860.36C21.3782 860.375 21.4153 860.376 21.4438 860.391C22.0619 860.726 22.6795 861.035 23.3188 861.329C23.6395 861.479 23.9614 861.654 24.2876 861.797C24.6547 861.959 25.0392 862.113 25.4126 862.266C25.6481 862.354 25.8932 862.433 26.1313 862.516C32.0031 864.803 38.6343 866.022 45.6313 866.047C52.6282 866.073 59.968 864.892 67.2876 862.36L97.2251 852.016C120.704 885.169 147.354 916.105 177.85 944.204C221.39 984.32 270.916 1016.89 326.913 1040.17C390.787 1066.73 461.537 1080.52 539.131 1079.98C638.526 1079.29 740.142 1050.42 827.944 994.797C926.953 932.073 1004.58 838.267 1052.13 716.766C1063.09 688.76 1049.26 657.165 1021.26 646.204C1014.25 643.463 1007.05 642.293 999.975 642.485C978.762 643.059 958.915 656.074 950.694 677.079C911.61 776.936 849.151 852.439 769.663 902.797C699.375 947.326 617.695 970.527 538.35 971.079C475.325 971.516 419.08 960.545 368.725 939.61C324.952 921.41 286.098 895.867 251.631 864.11C234.956 848.746 219.738 832.089 205.569 814.547L232.694 805.172C245.18 800.853 255.336 793.356 262.038 784.516C262.531 783.983 263.047 783.467 263.506 782.891L263.694 782.672C267.158 778.321 269.229 773.088 270.069 767.485C271.307 761.658 271.151 755.766 269.194 750.11L269.1 749.797C268.92 749.277 268.649 748.803 268.444 748.297C265.295 737.64 258.599 726.988 248.756 718.391L118.663 604.766C109.966 597.17 100.18 592.387 90.7251 590.454C89.9207 590.213 89.1188 589.943 88.2876 589.766L88.0063 589.704C86.482 589.38 84.9388 589.195 83.4126 589.11Z" fill="#000002" fill-rule="nonzero" opacity="0.962441" stroke="none" vectornator:layerName="Curve 9"/>
                        </g>
                    </svg>
                    <span>Refresh Page</span>
                </button>
            </div>
        </div>
    {% endif %}

    {% if not inventory %}
        <h3 class="nodata">No data available.</h3>
    {% else %}
        <div id="insert-inventory-table">
            <nav class="pages" aria-label="Page navigation"></nav>
            <div id="loading-table">
                <span class="spinner-border spinner-border-sm" id="loading-table-spinner" aria-hidden="true"></span>
                <span role="status" id="loading-table-text">Loading...</span>
            </div>
        </div>
    {% endif %}

    <!-- Modal for adding to inventory -->
    <form action="/admin_inventory" method="post" autocomplete="off">
        <div class="modal fade" id="addInvModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="addInvModalLabel">Add Item</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <!-- Equipment input -->
                        <div class="mb-3">
                            <label for="equipment" class="form-label">Equipment Name</label>
                            <input autocomplete="off" type="text" class="form-control" id="equipment" name="equipment" placeholder="Equipment Name" aria-describedby="emailHelp">
                        </div>
                        <!-- Model input -->
                        <div class="mb-3">
                            <label for="model" class="form-label">Model</label>
                            <input autocomplete="off" type="text" class="form-control" id="model" name="model" placeholder="Model Name">
                        </div>
                        <!-- Serial input -->
                        <div class="mb-3">
                            <label for="serial" class="form-label">Serial Number</label>
                            <input autocomplete="off" type="text" class="form-control" id="serial" name="serial" placeholder="Serial Number">
                        </div>
                        <!-- EE input -->
                        <div class="mb-3">
                            <label for="ee" class="form-label">EE</label>
                            <input autocomplete="off" type="text" class="form-control" id="ee" name="ee" placeholder="EE">
                        </div>
                        <!-- Assigned department input and selection -->
                        <label for="location" class="form-label">
                            <button type="button" id="input-button">Input</button> or <button type="button" id="select-button">Select</button> Assigned Location
                        </label>
                        <!-- Assigned department input -->
                        <div id="admin-li" style="display: block;">
                            <div class="mb-3">
                                <input autocomplete="off" type="text" class="form-control" id="dinput" name="dinput" placeholder="Department">
                            </div>
                            <div class="mb-3">
                                <input autocomplete="off" type="text" class="form-control" id="rinput" name="rinput" placeholder="Room">
                            </div>
                        </div>
                        <!-- Assigned department selection -->
                        <div id="admin-ls">
                            <div class="mb-3">
                                <select id="dselect" class="form-select w-auto" name="dselect">
                                    <option disabled="" selected>Department</option>
                                    {% for dept in depts %}
                                        {% if dept.building == "NA" %}
                                        {% else %}
                                            <option value="{{ dept.building }}" class="{{ dept.id }}">{{ dept.building }}</option>
                                        {% endif %}
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="mb-3">
                                <select id="rselect" class="form-select w-auto" name="rselect">
                                    <option disabled="" selected>Room</option>
                                    {% for room in rooms %}
                                        {% if room.rooms == "NA" %}
                                        {% else %}
                                            <option value="{{ room.rooms }}" class="{{ room.department_id }}">{{ room.rooms }}</option>
                                        {% endif %}
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                        <!-- Date added input -->
                        <div class="mb-3">
                            <label for="date_added" class="form-label">Date Added</label>
                            <input autocomplete="off" type="date" class="form-control" id="date_added" name="date_added"  value="{{ today }}">
                        </div>
                        <!-- Replacement date input -->
                        <div class="mb-3">
                            <label for="replace_date" class="form-label">Replacement Date</label>
                            <input autocomplete="off" type="date" class="form-control" id="replace_date" name="replace_date">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <div class="mod-flexbox">
                            <button type="button" class="btn btn-secondary modal-footer-buttons" data-bs-dismiss="modal" id="cancelconfirminv">Close</button>
                            <button type="button" class="btn btn-primary modal-footer-buttons prevent-click" id="confirminv" name="invbutton" value="add">
                                <span class="confirm-default-text">Add</span>
                                <div class="loading-alert">
                                    <span class="spinner-border spinner-border-sm" aria-hidden="true"></span>
                                    <span role="status">Loading...</span>
                                </div>
                            </button>
                        </div>
                        <div class="mod-flexbox">
                            <p class="emptywarning">Fields cannot be empty.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>

    <form action="/admin_inventory" method="post" id="checkbox-form">
        <!-- Modal for editing inventory item -->
        <div class="modal fade" id="edit-info-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="editInfoModalLabel">Edit Item</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="mb-3">
                            <label for="edit-equipment" class="form-label">Equipment Name</label>
                            <input autocomplete="off" type="text" class="form-control" id="edit-equipment" name="edit-field" placeholder="Equipment Name">
                        </div>
                        <div class="mb-3">
                            <label for="edit-model" class="form-label">Model</label>
                            <input autocomplete="off" type="text" class="form-control" id="edit-model" name="edit-field" placeholder="Model Name">
                        </div>
                        <div class="mb-3">
                            <label for="edit-serial" class="form-label">Serial Number</label>
                            <input autocomplete="off" type="text" class="form-control" id="edit-serial" name="edit-field" placeholder="Serial Number">
                        </div>
                        <div class="mb-3">
                            <label for="edit-ee" class="form-label">EE</label>
                            <input autocomplete="off" type="text" class="form-control" id="edit-ee" name="edit-field" placeholder="Serial Number">
                        </div>
                        <!-- Assigned department input and selection -->
                        <label for="edit-location" class="form-label">
                            <button type="button" id="edit-input-button">Input</button> or <button type="button" id="edit-select-button">Select</button> Assigned Location
                        </label>
                        <!-- Assigned department input -->
                        <div id="admin-edit-li" style="display: block;">
                            <div class="mb-3">
                                <input autocomplete="off" type="text" class="form-control" id="edit-dinput" name="edit-field" placeholder="Department">
                            </div>
                            <div class="mb-3">
                                <input autocomplete="off" type="text" class="form-control" id="edit-rinput" name="edit-field" placeholder="Room">
                            </div>
                        </div>
                        <!-- Assigned department selection -->
                        <div id="admin-edit-ls">
                            <div class="mb-3">
                                <select id="edit-dselect" class="form-select w-auto" name="edit-field">
                                    <option selected>Department</option>
                                    {% for dept in depts %}
                                        {% if dept.building == "NA" %}
                                        {% else %}
                                            <option value="{{ dept.building }}" class="{{ dept.id }}">{{ dept.building }}</option>
                                        {% endif %}
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="mb-3">
                                <select id="edit-rselect" class="form-select w-auto" name="edit-field">
                                    <option selected>Room</option>
                                    {% for room in rooms %}
                                        {% if room.rooms == "NA" %}
                                        {% else %}
                                            <option value="{{ room.rooms }}" class="{{ room.department_id }}">{{ room.rooms }}</option>
                                        {% endif %}
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="edit-replace-date" class="form-label">Replacement Date</label>
                            <input autocomplete="off" type="date" class="form-control" id="edit-replace-date" name="edit-date-field">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <div class="mod-flexbox">
                            <button type="button" class="btn btn-secondary modal-footer-buttons" data-bs-dismiss="modal" id="closeedit">Close</button>
                            <input type='hidden' id='hidden-edit-item' name='hidden-edit-item'>
                            <button type="button" class="btn btn-primary modal-footer-buttons prevent-click" id="completeedit" name="invbutton" value="edit">
                                <span class="confirm-default-text">Confirm Edit</span>
                                <div class="loading-alert">
                                    <span class="spinner-border spinner-border-sm" aria-hidden="true"></span>
                                    <span role="status">Loading...</span>
                                </div>
                            </button>
                        </div>
                        <div class="mod-flexbox" id="warnings">
                            <p class="emptywarning">At least one field must be filled out.</p>
                            <p class="emptyselection" style="display: none;">Please make a selection.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal for sending items to be replaced -->
        <div class="modal fade" id="replace-items-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropdelLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                <div class="modal-content">
                    <div class="modal-header">
                    <h1 class="modal-title fs-5" id="replaceItemsModalLabel">Replace Items</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="mb-3">
                            <label class="form-label">Send to replace page?</label><br>
                            <div class="mod-flexbox">
                                <button id="closereplace" type="button" class="btn btn-secondary modal-footer-buttons" data-bs-dismiss="modal">Cancel</button>
                                <input type='hidden' id='hidden-replace-item' name='hidden-replace-item'>
                                <button id="completereplace" type="submit" class="btn btn-primary modal-footer-buttons prevent-click" name="invbutton" value="replace">
                                    <span class="confirm-default-text">Confirm</span>
                                    <div class="loading-alert">
                                        <span class="spinner-border spinner-border-sm" aria-hidden="true"></span>
                                        <span role="status">Loading...</span>
                                    </div>
                                </button>
                            </div>                            
                        </div>
                        <p class="emptyselection" style="display: none;">Please make a selection.</p>
                        <p class="notcheckedin" style="display: none;">All items must be checked in.</p>
                        <p class="already-replace" style="display: none;">Item status already replace or replaced.</p>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal for sending items to missing page -->
        <div class="modal fade" id="missing-items-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropdelLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                <div class="modal-content">
                    <div class="modal-header">
                    <h1 class="modal-title fs-5" id="missingItemsModalLabel">Missing Items</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="mb-3">
                            <label class="form-label">Are these items missing?</label><br>
                            <div class="mod-flexbox">
                                <button id="closemissing" type="button" class="btn btn-secondary modal-footer-buttons" data-bs-dismiss="modal">Cancel</button>
                                <input type='hidden' id='hiddenmissingitem' name='hiddenmissingitem'>
                                <button id="completemissing" type="submit" class="btn btn-primary modal-footer-buttons prevent-click" name="invbutton" value="missing">
                                    <span class="confirm-default-text">Confirm</span>
                                    <div class="loading-alert">
                                        <span class="spinner-border spinner-border-sm" aria-hidden="true"></span>
                                        <span role="status">Loading...</span>
                                    </div>
                                </button>
                            </div>
                        </div>
                        <p class="emptyselection" style="display: none;">Please make a selection.</p>
                        <p class="already-missing" style="display: none;">Item is already missing.</p>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal for archiving items -->
        <div class="modal fade" id="archive-items-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropdelLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                <div class="modal-content">
                    <div class="modal-header">
                    <h1 class="modal-title fs-5" id="archiveItemsModalLabel">Archive Items</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="mb-3">
                            <label class="form-label">Send to archive?</label><br>
                            <div class="mod-flexbox">
                                <button id="closearchive" type="button" class="btn btn-secondary modal-footer-buttons" data-bs-dismiss="modal">Cancel</button>
                                <input type='hidden' id='hidden-archive-item' name='hidden-archive-item'>
                                <button id="completearchive" type="submit" class="btn btn-primary modal-footer-buttons prevent-click" name="invbutton" value="archive">
                                    <span class="confirm-default-text">Confirm</span>
                                    <div class="loading-alert">
                                        <span class="spinner-border spinner-border-sm" aria-hidden="true"></span>
                                        <span role="status">Loading...</span>
                                    </div>
                                </button>
                            </div>
                        </div>
                        <p class="emptyselection" style="display: none;">Please make a selection.</p>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal for deleting items -->
        <div class="modal fade" id="delete-items-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropdelLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                <div class="modal-content">
                    <div class="modal-header">
                    <h1 class="modal-title fs-5" id="deleteItemsModalLabel">Delete Items</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="mb-3">
                            <label class="form-label">Delete these items?</label><br>
                            <div class="mod-flexbox">
                                <button id="closedel" type="button" class="btn btn-secondary modal-footer-buttons" data-bs-dismiss="modal">Cancel</button>
                                <input type='hidden' id='hidden-delete-item' name='hidden-delete-item'>
                                <button id="completedel" type="submit" class="btn btn-primary modal-footer-buttons prevent-click" name="invbutton" value="delete">
                                    <span class="confirm-default-text">Confirm</span>
                                    <div class="loading-alert">
                                        <span class="spinner-border spinner-border-sm" aria-hidden="true"></span>
                                        <span role="status">Loading...</span>
                                    </div>
                                </button>
                            </div>
                        </div>
                        <p class="emptyselection" style="display: none;">Please make a selection.</p>
                    </div>
                </div>
            </div>
        </div>
    </form>

    <!-- Modal for additional equipment information -->
    <form action="/admin_inventory" method="post">
        <div class="modal fade" id="moreinfo" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="staticBackdropLabel">Additional Information</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <label for="qrcode" class="form-label">QR Code</label>
                        <div class="mb-3 qrflex">
                            <img class="img-fluid" id="additional-info-qr">
                        </div>
                        <div class="mb-3">
                            <a id="downloadqrcode" href="" download><button type="button" class="btn btn-primary downloadqr">Download QR Code</button></a>
                        </div>
                        <div class="mb-3">
                            <button type="button" class="btn btn-primary additional-info-buttons" id="edit-item">Edit Item</button>
                        </div>
                        <div class="mb-3">
                            <button type="button" class="btn btn-primary additional-info-buttons" id="single-item-replace"  data-bs-toggle='modal' data-bs-target='#replace-items-modal'>Replace Item</button>
                        </div>
                        <div class="mb-3">
                            <button type="button" class="btn btn-primary additional-info-buttons" id="single-item-missing" data-bs-toggle='modal' data-bs-target='#missing-items-modal'>Mark as Missing</button>
                        </div>
                        <div class="mb-3">
                            <button type="button" class="btn btn-primary additional-info-buttons" id="single-item-archive"  data-bs-toggle='modal' data-bs-target='#archive-items-modal'>Archive Item</button>
                        </div>
                        <div class="mb-3">
                            <button type="button" class="btn btn-primary additional-info-buttons" id="delete-item"  data-bs-toggle='modal' data-bs-target='#delete-items-modal'>Delete item</button>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </form>

    <!-- Modal for equipment history -->
    <div class="modal fade" id="show-history-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="showHistoryModalLabel">Activity History</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="activity_history">
                        {% include "activity_history.html" %}
                    </div>
                    <div class="modal-footer" id="remove-padding">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    {% if status_filter %}
        <input type="hidden" id="sf" value="{{ status_filter }}">
    {% endif %}

{% endblock %}

{% block script %}

    <script src="/static/app.js"></script>

{% endblock %}